{"version":3,"sources":["webpack:///./src/pages/sales/sales-header.js","webpack:///./src/pages/sales/index.js","webpack:///./src/utils/fetch-json.js","webpack:///./src/utils/helpers.js","webpack:///./src/components/sortable-table/index.js","webpack:///./src/components/range-picker/index.js"],"names":["header","id","title","sortable","sortType","template","data","Date","toLocaleString","dateStyle","Page","constructor","this","range","from","to","setUTCMonthCorrectly","getUTCMonth","render","wrapper","document","createElement","innerHTML","element","firstElementChild","subElements","getSubElements","initComponents","renderComponents","initEventListeners","rangePicker","RangePicker","ordersContainer","SortableTable","url","toISOString","isSortLocally","sorted","order","emptyPlaceholder","isRowALink","components","Object","keys","forEach","key","append","addEventListener","event","detail","updateComponents","update","querySelectorAll","reduce","result","subElement","dataset","remove","destroy","component","values","params","response","body","fetch","toString","err","FetchError","ok","errorText","statusText","json","error","message","status","Error","super","window","reason","alert","date","month","d","getUTCDate","setUTCMonth","Number","setUTCDate","headersConfig","find","item","target","closest","preventDefault","Array","children","map","cell","sortOnClient","sortOnServer","async","firePointer","Math","max","scrollHeight","documentElement","offsetHeight","clientHeight","pageYOffset","isLoading","loadStart","loadLength","loadedData","loadData","length","removeEventListener","scrollHandler","updateTableData","headerConfig","getTable","getHeaderRow","join","getBodyRows","rowData","getBodyRow","classList","add","sortedData","sort","column","customSorting","productA","productB","a","b","localeCompare","parentElement","accum","sortId","sortOrder","start","setLoadingInd","URL","process","searchParams","set","fetchJson","href","removeLoadingInd","loading","style","display","pointerdownHandler","contains","dateValue","value","selectingFrom","removeSelected","selected","highlightDates","updateInput","closeSelector","dispatchEvent","CustomEvent","bubbles","className","direction","slice","lastIndexOf","showDateFrom","renderSelector","selector","trim","toggle","isOpen","isChildOfRangePicker","getUTCMidnight","getTime","renderSkeleton","input","toggleSelector","handleDatePick","handleClickOutside","formatDate","initialDate","controlArrows","arrow","handleControlArrows","insertAdjacentHTML","renderMonths","fromTS","toTS","datesButtons","getDatesButtons","firstButtonTS","parse","lastButtonTS","button","buttonDateTS","firstMonthDate","months","initTime","i","push","renderOneMoth","toDateTime","toLocaleDateString","timeZone","renderDatesButtons","boundaryValues","getBoundaryValues","startFrom","firstDayNumber","dateButtons","lastDate","getUTCDay","dateToTransform","getUTCFullYear","selectedClasses","apply","el","UTC","getFullYear","getMonth","getDate"],"mappings":"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","file":"sales-index-js-6.js","sourcesContent":["const header = [\n  {\n    id: 'id',\n    title: 'ID',\n    sortable: true,\n    sortType: 'number'\n  },\n  {\n    id: 'user',\n    title: 'User',\n    sortable: true,\n    sortType: 'string'\n  },\n  {\n    id: 'createdAt',\n    title: 'Created At',\n    sortable: true,\n    sortType: 'date',\n    template: data => {\n      const date = new Date(data);\n\n      return `<div class=\"sortable-table__cell\">\n                ${date.toLocaleString('ru', {dateStyle: 'medium'})}\n              </div>`;\n    }\n  },\n  {\n    id: 'totalCost',\n    title: 'Total Cost',\n    sortable: true,\n    sortType: 'number',\n    template: data => {\n      return `<div class=\"sortable-table__cell\">$${data.toLocaleString('en-US')}</div>`;\n    }\n  },\n  {\n    id: 'delivery',\n    title: 'Delivery',\n    sortable: true,\n    sortType: 'number',\n  },\n];\n\nexport default header;\n","import RangePicker from '../../components/range-picker/index.js';\nimport SortableTable from '../../components/sortable-table/index.js';\n\nimport header from './sales-header.js';\nimport setUTCMonthCorrectly from '../../utils/helpers';\n\nexport default class Page {\n  element = null;\n  subElements = {};\n\n  constructor() {\n    this.range = {\n      from: new Date(),\n      to: new Date()\n    }\n\n    this.range.from = setUTCMonthCorrectly(this.range.from, this.range.from.getUTCMonth() - 1);\n  }\n\n  render() {\n    const wrapper = document.createElement('div');\n\n    wrapper.innerHTML = this.template;\n\n    this.element = wrapper.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n\n    this.initComponents();\n    this.renderComponents();\n    this.initEventListeners();\n\n    return this.element;\n  }\n\n  get template() {\n    return `\n        <div class=\"sales full-height flex-column\">\n\n            <div class=\"content__top-panel\">\n              <h2 class=\"page-title\">Sales</h2>\n              <!-- RangePicker -->\n              <div data-element=\"rangePicker\"></div>\n            </div>\n\n            <!-- ordersContainer -->\n            <div data-element=\"ordersContainer\" class=\"full-height flex-column\"></div>\n        </div>`;\n  }\n\n  initComponents() {\n    const rangePicker = new RangePicker(this.range);\n\n    const ordersContainer = new SortableTable(header, {\n      url: `api/rest/orders?createdAt_gte=${this.range.from.toISOString()}&createdAt_lte=${this.range.to.toISOString()}`,\n      isSortLocally: false,\n      sorted: {\n        id: 'createdAt',\n        order: 'desc'\n      },\n      emptyPlaceholder: '<div><p>No orders</p></div>',\n      isRowALink: false\n    });\n\n    this.components = {\n      rangePicker,\n      ordersContainer\n    };\n  }\n\n  renderComponents() {\n    Object.keys(this.subElements).forEach(key => {\n      this.subElements[key].append(this.components[key].element);\n    });\n  }\n\n  initEventListeners() {\n    this.element.addEventListener('date-select', event => {\n      this.range = event.detail;\n\n      this.updateComponents(this.range);\n    })\n  }\n\n  updateComponents(range) {\n    const {from, to} = range;\n    const fromISO = from.toISOString();\n    const toISO = to.toISOString();\n\n    const url = `api/rest/orders?createdAt_gte=${fromISO}&createdAt_lte=${toISO}`;\n\n    this.components.ordersContainer.update(url);\n  }\n\n  getSubElements(element) {\n    const subElements = element.querySelectorAll('[data-element]');\n\n    return [...subElements].reduce((result, subElement) => {\n      result[subElement.dataset.element] = subElement;\n\n      return result;\n    }, {});\n  }\n\n  remove() {\n    if (this.element) {\n      this.element.remove();\n    }\n  }\n\n  destroy() {\n    this.remove();\n    this.element = null;\n    this.subElements = {};\n\n    for (const component of Object.values(this.components)) {\n      component.destroy();\n    }\n  }\n}\n","// same as fetch, but throws FetchError in case of errors\r\n// status >= 400 is an error\r\n// network error / json error are errors\r\n\r\nexport default async function(url, params) {\r\n  let response;\r\n\r\n  try {\r\n    // NOTE: \"toString\" call needed for correct work of \"jest-fetch-mock\"\r\n    response = await fetch(url.toString(), params);\r\n  } catch(err) {\r\n    throw new FetchError(response, \"Network error has occurred.\");\r\n  }\r\n\r\n  let body;\r\n\r\n  if (!response.ok) {\r\n    let errorText = response.statusText; // Not Found (for 404)\r\n\r\n    try {\r\n      body = await response.json();\r\n\r\n      errorText = (body.error && body.error.message) || (body.data && body.data.error && body.data.error.message) || errorText;\r\n    } catch (error) { /* ignore failed body */ }\r\n\r\n    let message = `Error ${response.status}: ${errorText}`;\r\n\r\n    throw new FetchError(response, body, message);\r\n  }\r\n\r\n  try {\r\n    return await response.json();\r\n  } catch(err) {\r\n    throw new FetchError(response, null, err.message);\r\n  }\r\n}\r\n\r\nexport class FetchError extends Error {\r\n  name = \"FetchError\";\r\n\r\n  constructor(response, body, message) {\r\n    super(message);\r\n    this.response = response;\r\n    this.body = body;\r\n  }\r\n}\r\n\r\n// handle uncaught failed fetch through\r\nwindow.addEventListener('unhandledrejection', event => {\r\n  if (event.reason instanceof FetchError) {\r\n    alert(event.reason.message);\r\n  }\r\n});\r\n\r\n","/*\nDate.prototype.setMonth():\nThe current day of month will have an impact on the behavior of this method.\nConceptually it will add the number of days given by the current day of the\nmonth to the 1st day of the new month specified as the parameter, to return the new date.\nFor example, if the current value is 31st August 2016, calling setMonth\nwith a value of 1 will return 2nd March 2016. This is because in 2016 February had 29 days.\n\nTo implement expected behaviour we use custom method.\n*/\nconst setUTCMonthCorrectly = (date, month) => {\n  const d = date.getUTCDate();\n  date.setUTCMonth(Number(month));\n  if (date.getUTCDate() !== d) {\n    date.setUTCDate(0);\n  }\n  return date;\n};\n\nexport default setUTCMonthCorrectly;\n","import fetchJson from \"../../utils/fetch-json.js\";\n\nconst BACKEND_URL = process.env.BACKEND_URL;\n\nexport default class SortableTable {\n  element = null;\n  subElements = {};\n  data = [];\n  loadStart = 0;\n  loadLength = 30;\n  isLoading = false;\n\n  pointerdownHandler = event => {\n    const target = event.target.closest('[data-sortable = \"true\"]');\n\n    if (!target) return;\n\n    event.preventDefault();\n\n    this.sorted.id = target.dataset.id;\n    this.sorted.order = (target.dataset.order === 'desc') ? 'asc' : 'desc';\n\n    Array.from(this.subElements.header.children).map(cell => cell.dataset.order = '');\n    target.dataset.order = this.sorted.order;\n\n    if (this.isSortLocally) {\n      this.sortOnClient(this.sorted.id, this.sorted.order);\n    } else {\n      this.sortOnServer(this.sorted.id, this.sorted.order);\n    }\n  }\n\n  scrollHandler = async event => {\n    if (this.isSortLocally) return;\n\n    let scrollHeight = Math.max(\n      document.body.scrollHeight, document.documentElement.scrollHeight,\n      document.body.offsetHeight, document.documentElement.offsetHeight,\n      document.body.clientHeight, document.documentElement.clientHeight\n    );\n\n    const firePointer = scrollHeight - document.documentElement.clientHeight;\n\n    if (window.pageYOffset === firePointer && !this.isLoading) {\n      this.loadStart = this.loadStart + this.loadLength;\n\n      this.isLoading = true;\n\n      const loadedData = await this.loadData();\n\n      if (loadedData.length === 0 || loadedData.length < this.loadLength) {\n        document.removeEventListener('scroll', this.scrollHandler);\n      }\n\n      this.updateTableData([...this.data, ...loadedData]);\n\n      this.isLoading = false;\n    }\n  }\n\n  constructor(headersConfig = [], {\n    url = '',\n    isSortLocally = false,\n    sorted = {\n      id: headersConfig.find(item => item.sortable).id,\n      order: 'asc'\n    },\n    emptyPlaceholder = '<div><p>No data</p></div>',\n    isRowALink = true\n  } = {}) {\n    this.url = url;\n    this.isSortLocally = isSortLocally;\n    this.headerConfig = headersConfig;\n    this.sorted = sorted;\n    this.emptyPlaceholder = emptyPlaceholder;\n    this.isRowALink = isRowALink;\n\n    this.render();\n  }\n\n  async render() {\n    const element = document.createElement('div');\n    const {id, order} = this.sorted;\n\n    element.innerHTML = this.getTable();\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n\n    const data = await this.loadData(id, order);\n\n    this.subElements.header.innerHTML = this.getHeaderRow();\n\n    this.subElements.emptyPlaceholder.innerHTML = this.emptyPlaceholder;\n\n    this.updateTableData(data);\n    this.initEventListeners();\n  }\n\n  getTable() {\n    return `\n      <div class=\"sortable-table\">\n          <div data-element=\"header\" class=\"sortable-table__header sortable-table__row\"></div>\n          <div data-element=\"body\" class=\"sortable-table__body\"></div>\n          <div data-element=\"loading\" class=\"loading-line sortable-table__loading-line\"></div>\n          <div data-element=\"emptyPlaceholder\" class=\"sortable-table__empty-placeholder\"></div>\n      </div>\n    `;\n  }\n\n  getHeaderRow() {\n    return this.headerConfig.map(({id, sortable, title}) => {\n      const order = (id === this.sorted.id) ? this.sorted.order : '';\n\n      return `\n        <div class=\"sortable-table__cell\"\n            data-id=\"${id}\"\n            data-sortable=\"${sortable}\"\n            data-order=\"${order}\"\n            <span>${title}</span>\n            <span data-element=\"arrow\" class=\"sortable-table__sort-arrow\">\n                <span class=\"sort-arrow\"></span>\n            </span>\n        </div>\n      `;\n    }).join('');\n  }\n\n  getBodyRows(data) {\n    return data.map(rowData => {\n      return this.isRowALink ?\n        `<a href=\"/products/${rowData.id}\" class=\"sortable-table__row\">${this.getBodyRow(rowData)}</a>` :\n        `<div class=\"sortable-table__row\">${this.getBodyRow(rowData)}</div>`;\n    }).join('');\n  }\n\n  getBodyRow(rowData) {\n    return Array.from(this.headerConfig).map(({id, template}) => {\n      if (template) {\n        return template(rowData[id]);\n      } else {\n        return `<div class=\"sortable-table__cell\">${rowData[id]}</div>`;\n      }\n    }).join('');\n  }\n\n  async update(url) {\n    this.url = url;\n    this.loadStart = 0;\n\n    const loadedData = await this.loadData();\n\n    if (loadedData.length) {\n      document.addEventListener('scroll', this.scrollHandler);\n    }\n    this.updateTableData(loadedData);\n  }\n\n  updateTableData(data) {\n    this.data = data;\n\n    if (data.length) {\n      this.element.classList.remove('sortable-table_empty');\n\n      if (this.isSortLocally) {\n        Array.from(this.subElements.header.children).map(cell => cell.dataset.order = '');\n      }\n\n      this.subElements.body.innerHTML = this.getBodyRows(data);\n    } else {\n      this.element.classList.add('sortable-table_empty');\n    }\n  }\n\n  sortOnClient(id, order) {\n    const sortedData = this.sort(id, order);\n\n    this.subElements.body.innerHTML = this.getBodyRows(sortedData);\n  }\n\n  async sortOnServer(id, order) {\n    this.loadStart = 0;\n\n    const loadedData = await this.loadData(id, order);\n\n    if (loadedData.length) {\n      document.addEventListener('scroll', this.scrollHandler);\n    }\n    this.updateTableData(loadedData);\n  }\n\n  sort(id, order) {\n    const column = this.headerConfig.find(item => item.id === id);\n    const {sortType, customSorting} = column;\n\n    return Array.from(this.data).sort((productA, productB) => {\n      const a = productA[id];\n      const b = productB[id];\n      let result = null;\n\n      switch (sortType) {\n        case 'number':\n          result = a - b;\n          break;\n        case 'string':\n          result = a.localeCompare(b, ['ru-u-kf-upper', 'en-u-kf-upper']);\n          break;\n        case 'date':\n          result = new Date(a) - new Date(b);\n          break;\n        case 'custom':\n          result = customSorting(a, b);\n          break;\n        default:\n          result = a - b;\n      }\n\n      if (order === 'asc') {\n        return result;\n      } else if (order === 'desc') {\n        return -result;\n      }\n    });\n  }\n\n  getSubElements(parentElement) {\n    const elements = parentElement.querySelectorAll('[data-element]');\n\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n\n      return accum;\n    }, {});\n  }\n\n  async loadData(sortId = this.sorted.id,\n                 sortOrder = this.sorted.order,\n                 start = this.loadStart,\n                 length = this.loadLength) {\n    if (!this.url) return;\n\n    this.setLoadingInd();\n\n    const url = new URL(this.url, BACKEND_URL);\n    url.searchParams.set('_sort', sortId);\n    url.searchParams.set('_order', sortOrder);\n    url.searchParams.set('_start', start.toString());\n    url.searchParams.set('_end', (start + length).toString());\n\n    let loadedData = [];\n\n    loadedData = await fetchJson(url.href);\n\n    this.removeLoadingInd();\n\n    return loadedData;\n  }\n\n  setLoadingInd() {\n    this.subElements.loading.style.display = 'block';\n  }\n\n  removeLoadingInd() {\n    this.subElements.loading.style.display = 'none';\n  }\n\n  initEventListeners () {\n    this.subElements.header.addEventListener('pointerdown', this.pointerdownHandler);\n    document.addEventListener('scroll', this.scrollHandler);\n  }\n\n  remove () {\n    if (this.element) {\n      this.element.remove();\n    }\n  }\n\n  destroy() {\n    this.remove();\n    this.element = null;\n    this.subElements = {};\n    document.removeEventListener('scroll', this.scrollHandler);\n  }\n}\n","import setUTCMonthCorrectly from '../../utils/helpers.js';\n\nconst MONTHS_AT_ONE_TIME = 2;\nconst LAST_DAY_IN_A_WEEK = 7;\n\nexport default class RangePicker {\n  element = null;\n  subElements = {};\n  selectingFrom = true;\n\n  handleDatePick = event => {\n    const target = event.target;\n\n    if (!target.classList.contains('rangepicker__cell')) return;\n\n    const dateValue = new Date(target.dataset.value);\n\n    if (this.selectingFrom) {\n      this.removeSelected();\n\n      this.selectingFrom = false;\n      this.selected = {\n        from: dateValue,\n        to: null\n      };\n\n      this.highlightDates(this.selected);\n    } else {\n      if (dateValue < this.selected.from) {\n        this.selected.to = this.selected.from;\n        this.selected.from = dateValue;\n      } else {\n        this.selected.to = dateValue;\n      }\n\n      this.selectingFrom = true;\n\n      this.updateInput();\n      this.highlightDates(this.selected);\n      this.closeSelector();\n\n      this.element.dispatchEvent(new CustomEvent('date-select', {\n        bubbles: true,\n        detail: {\n          from: this.selected.from,\n          to: this.selected.to\n        }\n      }));\n    }\n  }\n\n  handleControlArrows = event => {\n    const className = event.target.className;\n    const direction = className.slice(className.lastIndexOf('-') + 1);\n    let month = this.showDateFrom.getUTCMonth();\n\n    if (direction === 'right') {\n      month += 1;\n    } else if (direction === 'left') {\n      month -= 1;\n    }\n\n    setUTCMonthCorrectly(this.showDateFrom, month);\n    this.renderSelector(this.showDateFrom);\n  };\n\n  toggleSelector = event => {\n    const selector = this.subElements.selector;\n\n    if (selector.innerHTML.trim() === '') {\n      this.renderSelector(this.selected.from);\n    }\n\n    this.element.classList.toggle('rangepicker_open');\n  }\n\n  handleClickOutside = event => {\n    const isOpen = this.element.classList.contains('rangepicker_open');\n    const isChildOfRangePicker = this.element.contains(event.target);\n\n    if (isOpen && !isChildOfRangePicker) {\n      this.closeSelector();\n    }\n  };\n\n  constructor({\n                from = new Date(),\n                to = new Date()\n              } = {}) {\n\n    this.selected = {\n      from: this.getUTCMidnight(from),\n      to: this.getUTCMidnight(to)\n    };\n    this.showDateFrom = new Date(this.selected.from.getTime());\n\n    this.render();\n    this.initEventListeners();\n  }\n\n  render() {\n    const wrapper = document.createElement('div');\n\n    wrapper.innerHTML = this.renderSkeleton(this.selected);\n    this.element = wrapper.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n  }\n\n  initEventListeners() {\n    const {selector, input} = this.subElements;\n\n    input.addEventListener('click', this.toggleSelector);\n    selector.addEventListener('click', this.handleDatePick);\n    document.addEventListener('click', this.handleClickOutside, true);\n  }\n\n  closeSelector() {\n    this.element.classList.remove('rangepicker_open');\n  }\n\n  updateInput() {\n    this.subElements.from.innerHTML = this.formatDate(this.selected.from);\n    this.subElements.to.innerHTML = this.formatDate(this.selected.to);\n  }\n\n  renderSelector(initialDate) {\n    const selector = this.subElements.selector;\n\n    selector.innerHTML = `\n      <div class=\"rangepicker__selector-arrow\"></div>\n      <div class=\"rangepicker__selector-control-left\"></div>\n      <div class=\"rangepicker__selector-control-right\"></div>`;\n\n    const arrowsClasses = '.rangepicker__selector-control-left, .rangepicker__selector-control-right';\n    const controlArrows = Array.from(selector.querySelectorAll(arrowsClasses));\n\n    if (controlArrows.length) {\n      controlArrows.forEach(arrow => {\n        arrow.addEventListener('click', this.handleControlArrows, true);\n      });\n    }\n\n    selector.insertAdjacentHTML('beforeend', this.renderMonths(initialDate));\n\n    this.highlightDates(this.selected);\n  }\n\n  highlightDates(selected) {\n    const fromTS = selected.from.getTime();\n    const toTS = selected.to ? selected.to.getTime() : null;\n    const datesButtons = this.getDatesButtons();\n    const firstButtonTS = Date.parse(datesButtons[0].dataset.value);\n    const lastButtonTS = Date.parse(datesButtons[datesButtons.length - 1].dataset.value);\n\n    if (selected.to) {\n      if (toTS < firstButtonTS || fromTS > lastButtonTS) return;\n    } else {\n      if (fromTS < firstButtonTS || fromTS > lastButtonTS) return;\n    }\n\n    datesButtons.forEach(button => {\n      let buttonDateTS = Date.parse(button.dataset.value);\n\n      if (buttonDateTS === fromTS) {\n        button.classList.add('rangepicker__selected-from');\n      }\n\n      if (!selected.to) return;\n\n      if (buttonDateTS > fromTS && buttonDateTS < toTS) {\n        button.classList.add('rangepicker__selected-between');\n      } else if (buttonDateTS === toTS) {\n        button.classList.add('rangepicker__selected-to');\n      }\n    });\n  }\n\n  getDatesButtons() {\n    return Array.from(this.subElements.selector.querySelectorAll('.rangepicker__cell'));\n  }\n\n  renderMonths(firstMonthDate) {\n    const months = [];\n    const initTime = firstMonthDate.getTime();\n    const month = firstMonthDate.getUTCMonth();\n\n    for (let i = 0; i < MONTHS_AT_ONE_TIME; i++) {\n      let date = new Date(initTime);\n\n      setUTCMonthCorrectly(date, month + i);\n\n      months.push(this.renderOneMoth(date));\n    }\n\n    return months.join('');\n  }\n\n  renderOneMoth(date) {\n    return `\n      <div class=\"rangepicker__calendar\">\n        <div class=\"rangepicker__month-indicator\">\n          <time datetime=\"${this.toDateTime(date)}\">\n            ${date.toLocaleDateString('ru', {month: 'long', timeZone: 'UTC'})}\n          </time>\n        </div>\n        <div class=\"rangepicker__day-of-week\">\n            <div>Пн</div><div>Вт</div><div>Ср</div><div>Чт</div><div>Пт</div><div>Сб</div><div>Вс</div>\n        </div>\n        <div class=\"rangepicker__date-grid\">\n            ${this.renderDatesButtons(date)}\n        </div>\n      </div>`;\n  }\n\n  renderDatesButtons(initialDate) {\n    const date = new Date(initialDate.getTime());\n    const boundaryValues = this.getBoundaryValues(date);\n    const startFrom = boundaryValues.firstDayNumber === 0 ? LAST_DAY_IN_A_WEEK : boundaryValues.firstDayNumber;\n    const dateButtons = [];\n\n    for (let i = 1; i <= boundaryValues.lastDate; i++) {\n      date.setUTCDate(i);\n\n      dateButtons.push(`\n            <button type=\"button\"\n                class=\"rangepicker__cell\"\n                data-value=\"${date.toISOString()}\"\n                style=\"${i === 1 ? '--start-from: ' + startFrom : ''}\">\n                ${i}\n            </button>\n        `);\n    }\n\n    return dateButtons.join('');\n  }\n\n  getBoundaryValues(initialDate) {\n    const date = new Date(initialDate.getTime());\n\n    date.setUTCDate(1);\n    const firstDayNumber = date.getUTCDay();\n\n    setUTCMonthCorrectly(date, (date.getUTCMonth() + 1));\n    date.setUTCDate(0);\n    const lastDate = date.getUTCDate();\n\n    return {firstDayNumber, lastDate};\n  }\n\n  renderSkeleton(selected) {\n    return `\n      <div class=\"rangepicker\">\n        <div class=\"rangepicker__input\" data-element=\"input\">\n          <span data-element=\"from\">${this.formatDate(selected.from)}</span> -\n          <span data-element=\"to\">${this.formatDate(selected.to)}</span>\n        </div>\n         <div class=\"rangepicker__selector\" data-element=\"selector\"></div>\n      </div>`;\n  }\n\n  formatDate(dateToTransform) {\n    return dateToTransform.toLocaleDateString('ru', {dateStyle: 'short', timeZone: 'UTC'});\n  }\n\n  toDateTime(date) {\n    const month = date.getUTCMonth() + 1;\n\n    return `${date.getUTCFullYear()}-${('0' + month).slice(-2)}`;\n  }\n\n  removeSelected() {\n    const datesButtons = this.getDatesButtons();\n    const selectedClasses = ['rangepicker__selected-from', 'rangepicker__selected-between', 'rangepicker__selected-to'];\n\n    datesButtons.forEach(button => button.classList.remove.apply(button.classList, selectedClasses));\n  }\n\n  getSubElements(element) {\n    const subElements = element.querySelectorAll('[data-element]');\n\n    return Array.from(subElements).reduce((result, el) => {\n      result[el.dataset.element] = el;\n\n      return result;\n    }, {});\n  }\n\n  getUTCMidnight(date) {\n    return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n  }\n\n  remove() {\n    if (this.element) {\n      this.element.remove();\n    }\n  }\n\n  destroy() {\n    this.remove();\n    this.element = null;\n    this.subElements = {};\n    document.removeEventListener('click', this.handleClickOutside, true);\n  }\n}\n"],"sourceRoot":""}